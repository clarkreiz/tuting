# Бухгалтерия для репетиторов!

[Read in English](README.md)

Проект бухгалтерии, разработанный для репетиторов и частных преподавателей (в частности для моей жены). Идея в том чтобы добавлять в базу оплату по факту или предоплату для каждого ученика и тем самым ввести отчетность. В этой итерации бот (и бэкенд) будет работать скорее всего локально или на отдельном сервере, но для одного пользователя. Возможно в будущем добавлю возможность пользоваться ботом всем желающим, если будет на это время.

Фронтенд будет написан на Python с использованием Telegram для взаимодействия с пользователем и библиотеки `aiogram`. Бэкенд будет разработан отдельно в другом репозитории, который можно найти по ссылке [backend](https://github.com/clarkreiz/tuting_backend/tree/main).

Решение по разделению на фронтенд и бэкенд было принято с одной стороны для того чтобы фронтенд можно было заменить на другой аналигичный, например react. С другой стороны мне хотелось использовать бэкенд именно на go, потому что хочу попробовать этот язык.

## Список задач

### Выполнено:
- ~~Бойлерплейт с Poetry, mypy, black~~
- ~~Базовый CI/CD, Dockerfile~~
- ~~Запуск бота, приветственная команда~~
- ~~Фича добавления студента~~

### Планируется сделать:
- Просмотр всех студентов (отдельный FSM)
- Добавление оплаты для конкретного студента (создание отдельного FSM для этого)
- Docker-compose, интеграционные тесты для aiohttp клиента
- Деплой в прод

## Возможности

- **Удобный интерфейс в Telegram**: Взаимодействие с ботом через Telegram
- **FSM**: Эффективное управление диалогами
- **Асинхронное общение**: Использование `aiohttp` для неблокирующих запросов к бэкенду

## Инструменты и зависимости

- **Управление пакетами**: [Poetry](https://python-poetry.org/) используется для управления зависимостями и запуска приложения.
- **Линтинг и форматирование**: [Ruff](https://github.com/charliermarsh/ruff) выбран в качестве линтера и форматировщика. Ранее в работе я использовал `flake8` и `black`. Поэтому возможно ruff можно настроить лучше. Буду рад предложениям по улучшению :)

## Требования

- Python 3.12.5+
- poetry (все зависимости управляются с помощью poetry)

## Установка

Перед установкой необходимо сгенерировать BOT_TOKEN через bot_father.

1. Clone the repository:

```bash
git clone git@github.com:clarkreiz/tuting.git
cd tuting
```

2. ADD BOT_TOKEN to env
```bash
    export BOT_TOKEN={token_from_bot_father}
```

3. install dep and run
```bash
poetry install
poetry run tuting
```
